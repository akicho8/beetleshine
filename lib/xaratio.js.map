{"version":3,"file":"xaratio.js","names":["_xinteger","require","Xaratio","aspect_ratio_normalize","w","h","aspect_ratio_gcd","v","Xinteger","gcd","exports"],"sources":["../src/xaratio.js"],"sourcesContent":["import { Xinteger } from \"./xinteger.js\"\n\nexport const Xaratio = {\n  // 片方を1に正規化した比率\n  //\n  //  100 : 50 = x : 1\n  //  50x = 100\n  //  x = 100 / 50\n  //  x = 2\n  //  ↓\n  //  a : b = x : 1\n  //  bx = a\n  //  x = a / b\n  //\n  aspect_ratio_normalize(w, h) {\n    w = w || 0\n    h = h || 0\n    if (w === 0 || h === 0) {\n      return\n    }\n    if (w >= h) {\n      w = w / h\n      h = 1\n    } else {\n      h = h / w\n      w = 1\n    }\n    return [w, h]\n  },\n\n  // 人間向け表記の比率\n  // 片方を1にするのではなく 4:3 などと表示する\n  // ただOGPは 40:21 になり 1.91:1 の方が人間向け表記としてよく使われている\n  aspect_ratio_gcd(w, h) {\n    w = w || 0\n    h = h || 0\n    if (w === 0 || h === 0) {\n      return\n    }\n    const v = Xinteger.gcd(w, h)\n    w = w / v\n    h = h / v\n    return [w, h]\n  },\n}\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,OAAA;AAEO,IAAMC,OAAO,GAAG;EAYrBC,sBAAsB,WAAAA,uBAACC,CAAC,EAAEC,CAAC,EAAE;IAC3BD,CAAC,GAAGA,CAAC,IAAI,CAAC;IACVC,CAAC,GAAGA,CAAC,IAAI,CAAC;IACV,IAAID,CAAC,KAAK,CAAC,IAAIC,CAAC,KAAK,CAAC,EAAE;MACtB;IACF;IACA,IAAID,CAAC,IAAIC,CAAC,EAAE;MACVD,CAAC,GAAGA,CAAC,GAAGC,CAAC;MACTA,CAAC,GAAG,CAAC;IACP,CAAC,MAAM;MACLA,CAAC,GAAGA,CAAC,GAAGD,CAAC;MACTA,CAAC,GAAG,CAAC;IACP;IACA,OAAO,CAACA,CAAC,EAAEC,CAAC,CAAC;EACf,CAAC;EAKDC,gBAAgB,WAAAA,iBAACF,CAAC,EAAEC,CAAC,EAAE;IACrBD,CAAC,GAAGA,CAAC,IAAI,CAAC;IACVC,CAAC,GAAGA,CAAC,IAAI,CAAC;IACV,IAAID,CAAC,KAAK,CAAC,IAAIC,CAAC,KAAK,CAAC,EAAE;MACtB;IACF;IACA,IAAME,CAAC,GAAGC,kBAAQ,CAACC,GAAG,CAACL,CAAC,EAAEC,CAAC,CAAC;IAC5BD,CAAC,GAAGA,CAAC,GAAGG,CAAC;IACTF,CAAC,GAAGA,CAAC,GAAGE,CAAC;IACT,OAAO,CAACH,CAAC,EAAEC,CAAC,CAAC;EACf;AACF,CAAC;AAAAK,OAAA,CAAAR,OAAA,GAAAA,OAAA"}