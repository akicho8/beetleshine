{"version":3,"file":"xobject.js","names":["_lodash","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","util","Xobject","equal_p","a","b","_","isEqual","blank_p","value","undefined","Object","keys","length","trim","present_p","presence","truthy_p","falsy_p","p","console","log","pp","inspect","short_inspect","i","pretty_inspect","JSON","stringify","alert","to_i","Math","trunc","Number","to_f","exports"],"sources":["../src/xobject.js"],"sourcesContent":["const util = require(\"util\")\nimport _ from \"lodash\"\n\nexport const Xobject = {\n  equal_p(a, b) {\n    return _.isEqual(a, b)\n  },\n\n  // lodash の _.isEmpty は不自然な挙動なので使ってはいけない\n  blank_p(value) {\n    return value === undefined || value === null || value === false ||\n      (typeof value === \"object\" && Object.keys(value).length === 0) ||\n      (typeof value === \"string\" && value.trim().length === 0)\n  },\n\n  present_p(value) {\n    return !this.blank_p(value)\n  },\n\n  presence(value) {\n    if (this.blank_p(value)) {\n      return undefined          // null だとURLのパラメータが消えないため undefined にする\n    }\n    return value\n  },\n\n  truthy_p(value) {\n    return !this.falsy_p(value)\n  },\n\n  falsy_p(value) {\n    return value == null || value === false\n  },\n\n  p(value) {\n    console.log(value)\n  },\n\n  pp(value) {\n    console.log(util.inspect(value))\n  },\n\n  short_inspect(value) {\n    return util.inspect(value)\n  },\n\n  i(value) {\n    return util.inspect(value)\n  },\n\n  pretty_inspect(value) {\n    return JSON.stringify(value, null, 4)\n  },\n\n  a(value) {\n    alert(this.i(value))\n  },\n\n  to_i(value) {\n    return Math.trunc(Number(value ?? 0))\n  },\n\n  to_f(value) {\n    return Number(value ?? 0)\n  },\n}\n"],"mappings":";;;;;;AACA,IAAAA,OAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAsB,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,gBAAAA,GAAA;AAAA,SAAAE,QAAAF,GAAA,sCAAAE,OAAA,wBAAAC,MAAA,uBAAAA,MAAA,CAAAC,QAAA,aAAAJ,GAAA,kBAAAA,GAAA,gBAAAA,GAAA,WAAAA,GAAA,yBAAAG,MAAA,IAAAH,GAAA,CAAAK,WAAA,KAAAF,MAAA,IAAAH,GAAA,KAAAG,MAAA,CAAAG,SAAA,qBAAAN,GAAA,KAAAE,OAAA,CAAAF,GAAA;AADtB,IAAMO,IAAI,GAAGR,OAAO,CAAC,MAAM,CAAC;AAGrB,IAAMS,OAAO,GAAG;EACrBC,OAAO,WAAAA,QAACC,CAAC,EAAEC,CAAC,EAAE;IACZ,OAAOC,kBAAC,CAACC,OAAO,CAACH,CAAC,EAAEC,CAAC,CAAC;EACxB,CAAC;EAGDG,OAAO,WAAAA,QAACC,KAAK,EAAE;IACb,OAAOA,KAAK,KAAKC,SAAS,IAAID,KAAK,KAAK,IAAI,IAAIA,KAAK,KAAK,KAAK,IAC5Db,OAAA,CAAOa,KAAK,MAAK,QAAQ,IAAIE,MAAM,CAACC,IAAI,CAACH,KAAK,CAAC,CAACI,MAAM,KAAK,CAAE,IAC7D,OAAOJ,KAAK,KAAK,QAAQ,IAAIA,KAAK,CAACK,IAAI,EAAE,CAACD,MAAM,KAAK,CAAE;EAC5D,CAAC;EAEDE,SAAS,WAAAA,UAACN,KAAK,EAAE;IACf,OAAO,CAAC,IAAI,CAACD,OAAO,CAACC,KAAK,CAAC;EAC7B,CAAC;EAEDO,QAAQ,WAAAA,SAACP,KAAK,EAAE;IACd,IAAI,IAAI,CAACD,OAAO,CAACC,KAAK,CAAC,EAAE;MACvB,OAAOC,SAAS;IAClB;IACA,OAAOD,KAAK;EACd,CAAC;EAEDQ,QAAQ,WAAAA,SAACR,KAAK,EAAE;IACd,OAAO,CAAC,IAAI,CAACS,OAAO,CAACT,KAAK,CAAC;EAC7B,CAAC;EAEDS,OAAO,WAAAA,QAACT,KAAK,EAAE;IACb,OAAOA,KAAK,IAAI,IAAI,IAAIA,KAAK,KAAK,KAAK;EACzC,CAAC;EAEDU,CAAC,WAAAA,EAACV,KAAK,EAAE;IACPW,OAAO,CAACC,GAAG,CAACZ,KAAK,CAAC;EACpB,CAAC;EAEDa,EAAE,WAAAA,GAACb,KAAK,EAAE;IACRW,OAAO,CAACC,GAAG,CAACpB,IAAI,CAACsB,OAAO,CAACd,KAAK,CAAC,CAAC;EAClC,CAAC;EAEDe,aAAa,WAAAA,cAACf,KAAK,EAAE;IACnB,OAAOR,IAAI,CAACsB,OAAO,CAACd,KAAK,CAAC;EAC5B,CAAC;EAEDgB,CAAC,WAAAA,EAAChB,KAAK,EAAE;IACP,OAAOR,IAAI,CAACsB,OAAO,CAACd,KAAK,CAAC;EAC5B,CAAC;EAEDiB,cAAc,WAAAA,eAACjB,KAAK,EAAE;IACpB,OAAOkB,IAAI,CAACC,SAAS,CAACnB,KAAK,EAAE,IAAI,EAAE,CAAC,CAAC;EACvC,CAAC;EAEDL,CAAC,WAAAA,EAACK,KAAK,EAAE;IACPoB,KAAK,CAAC,IAAI,CAACJ,CAAC,CAAChB,KAAK,CAAC,CAAC;EACtB,CAAC;EAEDqB,IAAI,WAAAA,KAACrB,KAAK,EAAE;IACV,OAAOsB,IAAI,CAACC,KAAK,CAACC,MAAM,CAACxB,KAAK,aAALA,KAAK,cAALA,KAAK,GAAI,CAAC,CAAC,CAAC;EACvC,CAAC;EAEDyB,IAAI,WAAAA,KAACzB,KAAK,EAAE;IACV,OAAOwB,MAAM,CAACxB,KAAK,aAALA,KAAK,cAALA,KAAK,GAAI,CAAC,CAAC;EAC3B;AACF,CAAC;AAAA0B,OAAA,CAAAjC,OAAA,GAAAA,OAAA"}