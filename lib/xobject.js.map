{"version":3,"file":"xobject.js","names":["_lodash","_interopRequireDefault","require","obj","__esModule","_typeof","Symbol","iterator","constructor","prototype","util","Xobject","equal_p","a","b","_","isEqual","blank_p","value","undefined","Object","keys","length","trim","present_p","presence","p","console","log","pp","inspect","short_inspect","i","pretty_inspect","JSON","stringify","alert","sleep","second","Promise","resolve","setTimeout","to_i","Math","trunc","Number","to_f","exports"],"sources":["../src/xobject.js"],"sourcesContent":["const util = require(\"util\")\nimport _ from \"lodash\"\n\nexport const Xobject = {\n  equal_p(a, b) {\n    return _.isEqual(a, b)\n  },\n\n  // lodash の _.isEmpty は不自然な挙動なので使ってはいけない\n  blank_p(value) {\n    return value === undefined || value === null || value === false ||\n      (typeof value === \"object\" && Object.keys(value).length === 0) ||\n      (typeof value === \"string\" && value.trim().length === 0)\n  },\n\n  present_p(value) {\n    return !this.blank_p(value)\n  },\n\n  presence(value) {\n    if (this.blank_p(value)) {\n      return undefined          // null だとURLのパラメータが消えないため undefined にする\n    }\n    return value\n  },\n\n  p(value) {\n    console.log(value)\n  },\n\n  pp(value) {\n    console.log(util.inspect(value))\n  },\n\n  short_inspect(value) {\n    return util.inspect(value)\n  },\n\n  i(value) {\n    return util.inspect(value)\n  },\n\n  pretty_inspect(value) {\n    return JSON.stringify(value, null, 4)\n  },\n\n  a(value) {\n    alert(this.i(value))\n  },\n\n  // async func() {\n  //   await Xobject.sleep(1)\n  // }\n  sleep(second) {\n    return new Promise(resolve => setTimeout(resolve, second * 1000))\n  },\n\n  to_i(value) {\n    return Math.trunc(Number(value ?? 0))\n  },\n\n  to_f(value) {\n    return Number(value ?? 0)\n  },\n}\n"],"mappings":"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"}