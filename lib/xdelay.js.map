{"version":3,"file":"xdelay.js","names":["Xdelay","delay_block","seconds","block","setTimeout","delay_stop","delay_id","clearTimeout","callback_later","exports"],"sources":["../src/xdelay.js"],"sourcesContent":["export const Xdelay = {\n  // setTimeout のラッパーではない\n  //\n  // seconds < 0:  実行しない\n  // seconds == 0: 即座に実行\n  // seconds > 0:  seconds秒待って実行\n  //\n  delay_block(seconds, block) {\n    if (seconds < 0) {\n      return null\n    }\n    if (seconds === 0) {\n      block()\n      return null\n    }\n    return setTimeout(block, 1000 * seconds)\n  },\n\n  delay_stop(delay_id) {\n    if (delay_id) {\n      clearTimeout(delay_id)\n    }\n  },\n\n  ////////////////////////////////////////////////////////////////////////////////\n\n  // あとで実行する\n  // だいたい 4ms 後に実行\n  // これで他のイベントを先に動かせる\n  callback_later(block) {\n    return setTimeout(block, 0)\n  },\n}\n"],"mappings":";;;;;;AAAO,MAAMA,MAAM,GAAG;EAOpBC,WAAWA,CAACC,OAAO,EAAEC,KAAK,EAAE;IAC1B,IAAID,OAAO,GAAG,CAAC,EAAE;MACf,OAAO,IAAI;IACb;IACA,IAAIA,OAAO,KAAK,CAAC,EAAE;MACjBC,KAAK,EAAE;MACP,OAAO,IAAI;IACb;IACA,OAAOC,UAAU,CAACD,KAAK,EAAE,IAAI,GAAGD,OAAO,CAAC;EAC1C,CAAC;EAEDG,UAAUA,CAACC,QAAQ,EAAE;IACnB,IAAIA,QAAQ,EAAE;MACZC,YAAY,CAACD,QAAQ,CAAC;IACxB;EACF,CAAC;EAODE,cAAcA,CAACL,KAAK,EAAE;IACpB,OAAOC,UAAU,CAACD,KAAK,EAAE,CAAC,CAAC;EAC7B;AACF,CAAC;AAAAM,OAAA,CAAAT,MAAA,GAAAA,MAAA"}